<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Sidebar Apple-like com Active</title>

  <!-- Fonte minimalista (Inter) para simular um estilo “Apple-like” -->
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&display=swap"
    rel="stylesheet"
  />

  <style>
    /* ================== RESET ================== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    /* ================== LAYOUT GERAL ================== */
    body {
      display: flex;
      height: 100vh;
      font-family: 'Inter', sans-serif;
      background-color: #f5f5f7; /* Tom clarinho, estilo Apple */
      color: #333;
      overflow: hidden; /* Evita rolagem horizontal */
    }

    /* Container principal (engloba sidebar e conteúdo) */
    .container {
      display: flex;
      flex: 1;
    }

    /* ================== SIDEBAR ================== */
    .sidebar {
      width: 220px;
      background-color: #ffffff; /* Fundo branco */
      border-right: 1px solid #dadada; /* Linha sutil de separação */
      display: flex;
      flex-direction: column;
      overflow-y: auto;
      transition: width 0.2s ease;
    }

    /* Branding (topo) */
    .sidebar-brand {
      display: flex;
      align-items: center;
      padding: 1rem;
      border-bottom: 1px solid #dadada;
    }
    .sidebar-brand img {
      height: 24px;
      margin-right: 0.5rem;
    }
    .sidebar-brand h1 {
      font-size: 14px;
      font-weight: 500;
      color: #333;
      margin: 0;
    }

    /* Lista de navegação */
    .sidebar-nav {
      list-style: none;
      padding: 0;
      margin: 0;
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    /* Títulos de seção (ex: Dados, Ferramentes...) */
    .sidebar-header {
      font-size: 11px;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: #999;
      margin-top: 1rem;
      margin-bottom: 0.25rem;
      padding-left: 1rem;
    }

    /* Cada item do menu */
    .sidebar-item {}

    /* Link do menu */
    .sidebar-link {
      display: flex;
      align-items: center;
      font-size: 13px;
      color: #555;
      text-decoration: none;
      padding: 0.45rem 1rem;
      transition: background 0.15s ease;
    }
    .sidebar-link:hover {
      background-color: #f2f2f2;
    }

    /* Ícones (Feather) menores */
    .sidebar-link i {
      width: 16px;
      height: 16px;
      stroke-width: 2;
      margin-right: 0.5rem;
      color: #777;
      flex-shrink: 0;
    }

    /* Estado ACTIVE (item destacado) */
    .sidebar-item.active > .sidebar-link {
      background-color: #e2e2e6;
      color: #111;
      font-weight: 500; /* Destaque um pouco maior */
    }
    .sidebar-item.active > .sidebar-link i {
      color: #111;
    }

    /* ================== CONTEÚDO ================== */
    .main-content {
      flex: 1;
      background-color: #f5f5f7;
      padding: 2rem;
      overflow-y: auto;
    }
    .main-content h1 {
      font-size: 1.25rem;
      margin-bottom: 0.5rem;
    }

    /* Scrollbars suaves (opcional) */
    ::-webkit-scrollbar {
      width: 6px;
    }
    ::-webkit-scrollbar-track {
      background: #f5f5f7;
    }
    ::-webkit-scrollbar-thumb {
      background-color: #ccc;
      border-radius: 3px;
    }

    /* ================== RESPONSIVO (EXEMPLO) ================== */
    @media (max-width: 768px) {
      .sidebar {
        width: 60px; /* Colapsa a sidebar no mobile */
      }
      .sidebar-brand {
        justify-content: center;
      }
      .sidebar-brand h1 {
        display: none; /* Some o texto da marca */
      }
      .sidebar-header {
        display: none;
      }
      .sidebar-link {
        justify-content: center;
        padding: 0.6rem 0;
      }
      .sidebar-link span {
        display: none; /* Some o texto do link, deixa só o ícone */
      }
    }
  </style>

  <!-- Feather Icons -->
  <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>
  <div class="container">
    <!-- SIDEBAR -->
    <nav class="sidebar" id="appleSidebar">
      <div class="sidebar-brand">
        <img
          src="https://www.magictraveltur.com/wp-content/uploads/2024/11/Escrita-_-Branco.png"
          alt="Magic Travel"
          style="filter: invert(0%); /* Ajuste se precisar escurecer ou clarear */"
        />
        <h1>Magic Travel</h1>
      </div>

      <ul class="sidebar-nav">
        <li class="sidebar-header">Dados</li>
        <li class="sidebar-item">
          <a class="sidebar-link" href="https://business.magictraveltur.com/">
            <i data-feather="sliders"></i>
            <span>Dashboard</span>
          </a>
        </li>
        <li class="sidebar-item">
          <a class="sidebar-link" href="https://business.magictraveltur.com/pages-orders.html">
            <i data-feather="user"></i>
            <span>Pedidos</span>
          </a>
        </li>
        <li class="sidebar-item">
          <a class="sidebar-link" href="https://business.magictraveltur.com/loti.html">
            <i data-feather="bar-chart-2"></i>
            <span>Cadastrar Venda</span>
          </a>
        </li>
        <li class="sidebar-item">
          <a class="sidebar-link" href="https://business.magictraveltur.com/finance.html">
            <i data-feather="user-plus"></i>
            <span>Financeiro</span>
          </a>
        </li>
        <li class="sidebar-item">
          <a class="sidebar-link" href="https://business.magictraveltur.com/ranking.html">
            <i data-feather="book"></i>
            <span>Ranking</span>
          </a>
        </li>

        <li class="sidebar-header">Ferramentes</li>
        <li class="sidebar-item">
          <a class="sidebar-link" href="/voucher">
            <i data-feather="square"></i>
            <span>Voucher</span>
          </a>
        </li>
        <li class="sidebar-item">
          <a class="sidebar-link" href="ui-forms.html">
            <i data-feather="check-square"></i>
            <span>Forms</span>
          </a>
        </li>
        <li class="sidebar-item">
          <a class="sidebar-link" href="ui-cards.html">
            <i data-feather="grid"></i>
            <span>Cards</span>
          </a>
        </li>
        <li class="sidebar-item">
          <a class="sidebar-link" href="ui-typography.html">
            <i data-feather="align-left"></i>
            <span>Typography</span>
          </a>
        </li>
        <li class="sidebar-item">
          <a class="sidebar-link" href="icons-feather.html">
            <i data-feather="coffee"></i>
            <span>Icons</span>
          </a>
        </li>

        <li class="sidebar-header">Plugins &amp; Addons</li>
        <li class="sidebar-item">
          <a class="sidebar-link" href="charts-chartjs.html">
            <i data-feather="bar-chart-2"></i>
            <span>Charts</span>
          </a>
        </li>
        <li class="sidebar-item">
          <a class="sidebar-link" href="maps-google.html">
            <i data-feather="map"></i>
            <span>Maps</span>
          </a>
        </li>
      </ul>
    </nav>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Substitui <i data-feather="..."> por SVG
      feather.replace();

      // Captura a URL atual, removendo barra final
      let currentUrl = window.location.href.split("?")[0].split("#")[0].replace(/\/$/, "");
      console.log(">>> URL atual:", currentUrl);

      let foundActive = false;

      // Itera sobre cada .sidebar-item
      document.querySelectorAll("#appleSidebar .sidebar-item").forEach((item) => {
        const link = item.querySelector(".sidebar-link");
        if (link) {
          // Normaliza a URL do link
          let linkUrl = link.href.split("?")[0].split("#")[0].replace(/\/$/, "");

          console.log("... comparando link:", linkUrl);

          // Ajuste a condição:
          // - Se quiser que seja EXATO, use (currentUrl === linkUrl)
          // - Se quiser "contém", use includes
          if (currentUrl === linkUrl || currentUrl.includes(linkUrl)) {
            console.log(">>> Ativado:", linkUrl);
            item.classList.add("active");
            foundActive = true;
          }
        }
      });

      if (!foundActive) {
        console.warn("Nenhum link foi ativado. Ajuste a lógica se necessário.");
      }
    });
  </script>
</body>
</html>
