<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Magic Travel - Minimal Sidebar Apple-Like</title>

  <!-- Fonte minimalista (Inter) -->
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&display=swap"
    rel="stylesheet"
  />

  <style>
    /* ==================== RESET BÁSICO ==================== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      font-family: 'Inter', sans-serif;
      background: #f5f5f7; /* Cor clara, no estilo Apple */
      color: #333;
      overflow-x: hidden; /* Sem rolagem horizontal */
    }

    .page-container {
      display: flex;
      flex: 1;
    }

    /* ==================== SIDEBAR ==================== */
    /* ID para a sidebar */
    #mySidebar {
      width: 240px;
      background-color: #fff;
      border-right: 1px solid #dadada; /* Linha discreta à direita */
      transition: margin-left 0.3s ease-in-out;
      position: relative;
      z-index: 999; /* Para ficar acima do conteúdo ao colapsar em mobile */
    }
    /* Estilo colapsado (some para a esquerda) */
    #mySidebar.collapsed {
      margin-left: -240px;
    }

    .sidebar-content {
      display: flex;
      flex-direction: column;
      height: 100vh; /* Para ocupar a tela toda */
      overflow-y: auto;
    }

    /* BRANDING (LOGO + BOTÃO TOGGLE) */
    .sidebar-brand {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.75rem 1rem; /* Menor espaçamento, texto pequeno */
      border-bottom: 1px solid #dadada;
    }
    .sidebar-brand img {
      height: 18px; /* Logo menor */
      margin-right: 0.5rem;
    }
    .sidebar-brand h1 {
      font-size: 14px;
      font-weight: 500;
      margin: 0;
      color: #333;
    }

    /* Botão toggle minimalista */
    .sidebar-toggle {
      background: none;
      border: none;
      cursor: pointer;
      color: #666;
      font-size: 1.2rem;
      outline: none;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .sidebar-toggle:hover {
      color: #000;
    }

    /* ==================== LISTA DE NAVEGAÇÃO ==================== */
    .sidebar-nav {
      list-style: none;
      margin: 0;
      padding: 0;
      flex: 1; /* Ocupa o espaço restante */
      display: flex;
      flex-direction: column;
    }

    /* Título de seção */
    .sidebar-header {
      font-size: 10px; /* BEM pequeno */
      font-weight: 600;
      text-transform: uppercase;
      color: #999;
      letter-spacing: 0.5px;
      margin: 1rem 0 0.25rem 1rem;
    }

    /* ITEM DE MENU */
    .sidebar-item { }

    /* LINK DE MENU */
    .sidebar-link {
      display: flex;
      align-items: center;
      font-size: 12px; /* Texto pequeno */
      color: #555;
      text-decoration: none;
      padding: 0.5rem 1rem;
      transition: background 0.2s;
    }
    .sidebar-link:hover {
      background-color: #f2f2f2;
      color: #111;
    }

    /* ÍCONE FEATHER PEQUENO */
    .sidebar-link i {
      width: 14px; /* Ícone pequeno */
      height: 14px;
      stroke-width: 2;
      margin-right: 0.5rem;
      color: #777;
      flex-shrink: 0;
    }

    /* ACTIVE GERAL */
    .sidebar-item.active > .sidebar-link {
      background-color: #e2e2e6;
      color: #111;
      font-weight: 500;
    }
    .sidebar-item.active > .sidebar-link i {
      color: #111;
    }

    /* ==================== CONTEÚDO PRINCIPAL ==================== */
    .main-content {
      flex: 1;
      padding: 1.5rem;
      overflow-y: auto; /* Conteúdo rolável */
      transition: margin-left 0.3s ease-in-out;
    }
    /* Quando sidebar está colapsada, este ajusta a margem se quiser */
    #mySidebar.collapsed ~ .main-content {
      margin-left: 0;
    }

    /* ==================== SCROLLBAR PERSONALIZADA ==================== */
    .sidebar-content::-webkit-scrollbar {
      width: 5px;
    }
    .sidebar-content::-webkit-scrollbar-track {
      background: #fff;
    }
    .sidebar-content::-webkit-scrollbar-thumb {
      background-color: #ccc;
      border-radius: 3px;
    }

    /* ==================== RESPONSIVIDADE ==================== */
    @media (max-width: 768px) {
      #mySidebar {
        position: fixed;
        top: 0;
        left: 0;
        height: 100%;
      }
      /* Ao expandir a sidebar no mobile, o conteúdo desloca? */
      #mySidebar:not(.collapsed) ~ .main-content {
        margin-left: 240px;
      }
    }
  </style>

  <!-- Feather Icons -->
  <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>
  <!-- CONTAINER PRINCIPAL -->
  <div class="page-container">
    <!-- SIDEBAR -->
    <nav id="mySidebar">
      <div class="sidebar-content">
        <!-- Brand -->
        <div class="sidebar-brand">
          <div style="display: flex; align-items:center;">
            <img
              src="https://www.magictraveltur.com/wp-content/uploads/2024/11/Escrita-_-Branco.png"
              alt="Magic Travel"
              style="filter: invert(0%);"
            />
            <h1>Magic Travel</h1>
          </div>
          <button class="sidebar-toggle" id="sidebarToggle">
            <i data-feather="menu"></i>
          </button>
        </div>

        <!-- Navegação -->
        <ul class="sidebar-nav">
          <li class="sidebar-header">Dados</li>

          <li class="sidebar-item">
            <a class="sidebar-link" href="https://business.magictraveltur.com/">
              <i data-feather="sliders"></i>
              <span>Dashboard</span>
            </a>
          </li>

          <li class="sidebar-item">
            <a class="sidebar-link" href="https://business.magictraveltur.com/pages-orders.html">
              <i data-feather="user"></i>
              <span>Pedidos</span>
            </a>
          </li>

          <li class="sidebar-item">
            <a class="sidebar-link" href="https://business.magictraveltur.com/loti.html">
              <i data-feather="bar-chart-2"></i>
              <span>Cadastrar Venda</span>
            </a>
          </li>

          <li class="sidebar-item">
            <a class="sidebar-link" href="https://business.magictraveltur.com/finance.html">
              <i data-feather="user-plus"></i>
              <span>Financeiro</span>
            </a>
          </li>

          <li class="sidebar-item">
            <a class="sidebar-link" href="https://business.magictraveltur.com/ranking.html">
              <i data-feather="book"></i>
              <span>Ranking</span>
            </a>
          </li>

          <li class="sidebar-header">Ferramentes</li>

          <li class="sidebar-item">
            <a class="sidebar-link" href="https://business.magictraveltur.com/voucher">
              <i data-feather="square"></i>
              <span>Voucher</span>
            </a>
          </li>

          <li class="sidebar-item">
            <a class="sidebar-link" href="ui-forms.html">
              <i data-feather="check-square"></i>
              <span>Forms</span>
            </a>
          </li>

          <li class="sidebar-item">
            <a class="sidebar-link" href="ui-cards.html">
              <i data-feather="grid"></i>
              <span>Cards</span>
            </a>
          </li>

          <li class="sidebar-item">
            <a class="sidebar-link" href="ui-typography.html">
              <i data-feather="align-left"></i>
              <span>Typography</span>
            </a>
          </li>

          <li class="sidebar-item">
            <a class="sidebar-link" href="icons-feather.html">
              <i data-feather="coffee"></i>
              <span>Icons</span>
            </a>
          </li>

          <li class="sidebar-header">Plugins &amp; Addons</li>

          <li class="sidebar-item">
            <a class="sidebar-link" href="charts-chartjs.html">
              <i data-feather="bar-chart-2"></i>
              <span>Charts</span>
            </a>
          </li>

          <li class="sidebar-item">
            <a class="sidebar-link" href="maps-google.html">
              <i data-feather="map"></i>
              <span>Maps</span>
            </a>
          </li>
        </ul>
      </div>
    </nav>
    <!-- /SIDEBAR -->

    <!-- MAIN CONTENT -->
    <div class="main-content">
      <h1>Exemplo de Conteúdo</h1>
      <p>Sidebar minimalista, texto pequeno, ícones pequenos. Active é baseado na URL atual.</p>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Substitui <i data-feather="..."> pelos ícones SVG
      feather.replace();

      // ============ LÓGICA DE "ACTIVE" ============
      // Normaliza a URL atual (removendo ? e # e barra final)
      let currentUrl = window.location.href.split("?")[0].split("#")[0].replace(/\/$/, "");
      console.log(">>> URL Atual:", currentUrl);

      let foundActive = false;

      document.querySelectorAll("#mySidebar .sidebar-item").forEach((item) => {
        const linkEl = item.querySelector(".sidebar-link");
        if (linkEl) {
          let linkUrl = linkEl.href.split("?")[0].split("#")[0].replace(/\/$/, "");
          console.log("Comparando:", linkUrl);

          // Condição: se a URL atual == link ou "contains"
          if (currentUrl === linkUrl || currentUrl.includes(linkUrl)) {
            console.log(">>> Ativado:", linkUrl);
            item.classList.add("active");
            foundActive = true;
          }
        }
      });

      if (!foundActive) {
        console.warn("Nenhum link ativado. Ajuste a comparação se precisar.");
      }

      // ============ BOTÃO DE COLAPSAR ============
      const sidebar = document.getElementById("mySidebar");
      const toggleBtn = document.getElementById("sidebarToggle");

      toggleBtn.addEventListener("click", () => {
        sidebar.classList.toggle("collapsed");
      });
    });
  </script>
</body>
</html>
