<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard Personalizado</title>
  <!-- Chart.js: Necess√°rio para os gr√°ficos -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>

  <style>
    /************************************************************
     * Vari√°veis b√°sicas e reset
     ************************************************************/
    :root {
      --bg-page: #F5F6FA;
      --bg-white: #FFFFFF;
      --bg-dark: #1C1C1C;
      --text-color: #333333;
      --text-muted: #777777;
      --radius: 10px;
      --shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, sans-serif;
    }
    body {
      background-color: var(--bg-page);
      color: var(--text-color);
    }

    /************************************************************
     * Container Principal
     ************************************************************/
    .dashboard-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    /************************************************************
     * Header
     ************************************************************/
    .dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
    }
    .dashboard-header h1 {
      font-size: 24px;
    }
    .header-tools {
      display: flex;
      gap: 15px;
      align-items: center;
    }
    .header-tools img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
    }

    /************************************************************
     * Grid de cart√µes
     ************************************************************/
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    .stat-card {
      background-color: var(--bg-white);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 20px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: flex-start;
      transition: box-shadow 0.2s ease;
    }
    .stat-card:hover {
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
    }
    .stat-icon {
      font-size: 28px;
      margin-bottom: 10px;
      color: #666;
    }
    .stat-info h2 {
      font-size: 20px;
      margin-bottom: 5px;
      color: var(--text-color);
    }
    .stat-info p {
      font-size: 14px;
      color: var(--text-muted);
    }

    /************************************************************
     * Se√ß√£o principal: Gr√°fico de barras e Box preto
     ************************************************************/
    .main-section {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 30px;
    }

    /* Gr√°fico de Faturamento x Margem */
    .bar-chart-container {
      flex: 1 1 60%;
      min-width: 320px;
      background-color: var(--bg-white);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 20px;
    }
    .bar-chart-container h3 {
      margin-bottom: 15px;
      font-size: 16px;
    }
    .bar-chart-container canvas {
      width: 100% !important;
      height: 300px !important;
    }

    /* Box preto: Categoria de Vendedor */
    .dark-box {
      flex: 1 1 35%;
      min-width: 280px;
      background-color: var(--bg-dark);
      color: #fff;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 20px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    .dark-box h4 {
      font-size: 16px;
      margin-bottom: 10px;
      font-weight: 500;
    }
    .dark-box p {
      font-size: 14px;
      margin-bottom: 5px;
      font-weight: 600;
    }
    .dark-box span {
      font-size: 12px;
      opacity: 0.8;
    }

    /************************************************************
     * Se√ß√£o de Pedidos + Gr√°fico de Meta
     ************************************************************/
    .bottom-section {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }

    /* √öltimos Pedidos */
    .orders-section {
      flex: 1 1 60%;
      min-width: 320px;
      background-color: var(--bg-white);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 20px;
    }
    .orders-section h3 {
      font-size: 16px;
      margin-bottom: 10px;
    }
    .orders-section table {
      width: 100%;
      border-collapse: collapse;
    }
    .orders-section thead {
      background-color: #f0f0f0;
    }
    .orders-section thead th {
      text-align: left;
      padding: 8px;
      font-size: 13px;
      color: var(--text-muted);
    }
    .orders-section tbody tr {
      border-bottom: 1px solid #eee;
    }
    .orders-section tbody tr:last-child {
      border-bottom: none;
    }
    .orders-section tbody td {
      padding: 8px;
      font-size: 14px;
      color: var(--text-color);
    }

    /* Gr√°fico de Meta (Donut) */
    .meta-chart-container {
      flex: 1 1 35%;
      min-width: 280px;
      background-color: var(--bg-white);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 20px;
    }
    .meta-chart-container h4 {
      font-size: 16px;
      margin-bottom: 15px;
    }
    .meta-chart-container .meta-percentage {
      font-size: 20px;
      font-weight: bold;
      text-align: center;
      margin: 10px 0;
    }
    .meta-chart-container canvas {
      display: block;
      width: 100% !important;
      max-width: 280px;
      margin: 0 auto;
      height: 200px !important; 
    }
  </style>
</head>
<body>
<div class="dashboard-container">
  <!-- Cabe√ßalho -->
  <header class="dashboard-header">
    <h1>Dashboard</h1>
    <div class="header-tools">
      <!-- √çcone de pesquisa se precisar: <i class="fas fa-search"></i> -->
      <img src="https://via.placeholder.com/40" alt="Avatar">
    </div>
  </header>

  <!-- Cart√µes: Comiss√£o, Margem, Faturamento, Take Rate -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon">üí∏</div>
      <div class="stat-info">
        <h2>R$ 3.200</h2>
        <p>Comiss√£o</p>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">üìà</div>
      <div class="stat-info">
        <h2>25%</h2>
        <p>Margem</p>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">üí∞</div>
      <div class="stat-info">
        <h2>R$ 18.500</h2>
        <p>Faturamento</p>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">üîó</div>
      <div class="stat-info">
        <h2>3.5%</h2>
        <p>Take Rate</p>
      </div>
    </div>
  </div>

  <!-- Se√ß√£o principal: Gr√°fico (Faturamento x Margem) + Box Preto (Categoria de Vendedor) -->
  <section class="main-section">
    <div class="bar-chart-container">
      <h3>Faturamento x Margem</h3>
      <canvas id="faturamentoMargemChart"></canvas>
    </div>
    <div class="dark-box">
      <h4>Categoria de Vendedor</h4>
      <p>Vendedor Premium</p>
      <span>Voc√™ possui 27 dias para atualiza√ß√£o de informa√ß√µes</span>
    </div>
  </section>

  <!-- Parte de baixo: √öltimos Pedidos + Meta (Donut) -->
  <section class="bottom-section">
    <!-- √öltimos pedidos (5) -->
    <div class="orders-section">
      <h3>√öltimos Pedidos</h3>
      <table>
        <thead>
          <tr>
            <th>Pedido</th>
            <th>Data</th>
            <th>Valor</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <!-- Exemplo de 5 pedidos -->
          <tr>
            <td>#2540</td>
            <td>01/02/2025</td>
            <td>R$ 450,00</td>
            <td>Enviado</td>
          </tr>
          <tr>
            <td>#2539</td>
            <td>30/01/2025</td>
            <td>R$ 1.200,00</td>
            <td>Pago</td>
          </tr>
          <tr>
            <td>#2538</td>
            <td>28/01/2025</td>
            <td>R$ 320,00</td>
            <td>Pendente</td>
          </tr>
          <tr>
            <td>#2537</td>
            <td>27/01/2025</td>
            <td>R$ 2.100,00</td>
            <td>Pago</td>
          </tr>
          <tr>
            <td>#2536</td>
            <td>25/01/2025</td>
            <td>R$ 980,00</td>
            <td>Pendente</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Gr√°fico de Meta (Porcentagem de meta batida) -->
    <div class="meta-chart-container">
      <h4>Meta</h4>
      <canvas id="metaChart"></canvas>
      <!-- Podemos exibir a % ao centro -->
      <div class="meta-percentage" id="metaPercentage">80%</div>
    </div>
  </section>
</div>

<!-- Scripts JavaScript -->
<script>
  /************************************************************
   * GR√ÅFICO 1: Faturamento x Margem (barras)
   ************************************************************/
  const ctxFM = document.getElementById('faturamentoMargemChart').getContext('2d');
  const faturamentoMargemChart = new Chart(ctxFM, {
    type: 'bar',
    data: {
      labels: ['JAN', 'FEV', 'MAR', 'ABR', 'MAI', 'JUN', 'JUL', 'AGO', 'SET', 'OUT', 'NOV', 'DEZ'],
      datasets: [
        {
          label: 'Faturamento (R$)',
          data: [10000, 12000, 8000, 14000, 18000, 20000, 25000, 17000, 22000, 24000, 26000, 30000],
          backgroundColor: '#000',
          borderRadius: 4,
          barPercentage: 0.6
        },
        {
          label: 'Margem (%)',
          data: [20, 22, 18, 25, 27, 30, 32, 28, 26, 24, 28, 35],
          backgroundColor: '#BBB',
          borderRadius: 4,
          barPercentage: 0.6
        }
      ]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      scales: {
        y: {
          beginAtZero: true,
          ticks: { color: '#666' },
          grid: { color: '#eee' }
        },
        x: {
          ticks: { color: '#666' },
          grid: { display: false }
        }
      },
      plugins: {
        legend: {
          labels: { color: '#333' }
        }
      }
    }
  });

  /************************************************************
   * GR√ÅFICO 2: Meta (Donut)
   ************************************************************/
  const ctxMeta = document.getElementById('metaChart').getContext('2d');
  // Exemplo: meta batida em 80%. Ent√£o "80" e "20" para exibir o "restante".
  let metaBatida = 80;
  let restanteMeta = 100 - metaBatida;

  const metaChart = new Chart(ctxMeta, {
    type: 'doughnut',
    data: {
      labels: ['Batido', 'Restante'],
      datasets: [{
        data: [metaBatida, restanteMeta],
        backgroundColor: ['#000', '#DDD'],
        hoverOffset: 4
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      cutout: '60%', // cria aquele "buraco" maior no meio
      plugins: {
        legend: {
          display: false // ocultar legenda se quiser
        }
      }
    }
  });

  // Mostra a % no elemento #metaPercentage
  document.getElementById('metaPercentage').textContent = metaBatida + '%';
</script>

</body>
</html>
