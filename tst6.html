<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Organized JSON Page</title>
  <style>
    /* 
      Para evitar conflitos, prefixamos todos os estilos com 
      #json-page-container ou .json-page-container
    */
    #json-page-container {
      font-family: Arial, sans-serif;
      margin: 20px auto;
      max-width: 1200px;
      color: #333;
    }

    #json-page-container h1, 
    #json-page-container h2, 
    #json-page-container h3,
    #json-page-container h4 {
      margin: 0;
      padding: 0;
    }

    #json-page-container .header-section {
      border: 1px solid #ccc;
      padding: 15px;
      border-radius: 6px;
      margin-bottom: 20px;
      background: #f8f8f8;
    }

    #json-page-container .header-section h1 {
      font-size: 20px;
      margin-bottom: 10px;
    }

    #json-page-container .meta-info {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 10px;
    }

    #json-page-container .meta-box {
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 6px 12px;
      font-size: 14px;
    }

    /* Activity cards styling */
    #json-page-container .activities-container {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    #json-page-container .activity-card {
      border: 1px solid #ccc;
      border-radius: 6px;
      padding: 15px;
      background: #fff;
    }

    #json-page-container .activity-header {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #eee;
      padding-bottom: 8px;
      margin-bottom: 10px;
    }

    #json-page-container .activity-header h2 {
      font-size: 18px;
      margin-bottom: 5px;
    }

    #json-page-container .activity-code {
      font-size: 14px;
      color: #666;
      margin-bottom: 5px;
    }

    #json-page-container .activity-type {
      font-size: 14px;
      color: #999;
    }

    #json-page-container .activity-body {
      font-size: 14px;
      line-height: 1.5;
    }

    #json-page-container .activity-body .currency-row,
    #json-page-container .activity-body .country-row,
    #json-page-container .activity-body .amounts-row {
      margin-bottom: 10px;
    }

    #json-page-container .activity-body .title-label {
      font-weight: bold;
    }

    /* Image gallery */
    #json-page-container .image-gallery {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }

    #json-page-container .image-gallery img {
      max-width: 120px;
      height: auto;
      border-radius: 4px;
      border: 1px solid #ccc;
    }

    /* Seção de detalhes colapsáveis */
    #json-page-container .activity-sections details {
      margin-bottom: 10px;
      background: #f9f9f9;
      border: 1px solid #eee;
      border-radius: 4px;
      padding: 6px 10px;
    }

    #json-page-container .activity-sections summary {
      cursor: pointer;
      font-weight: bold;
    }

    /* Layout responsivo básico */
    @media (max-width: 768px) {
      #json-page-container .meta-info {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>

<div id="json-page-container">
  <!-- Cabeçalho onde mostraremos informação do JSON -->
  <div class="header-section" id="mainHeader"></div>
  
  <!-- Lista de atividades -->
  <div class="activities-container" id="activitiesList"></div>
</div>

<!-- Script com o JSON como objeto + renderização -->
<script>
  // 1) Nosso objeto data:
  const data = {
    "operationId": "16655ab02d1d10a6",
    "pagination": {
      "itemsPerPage": 10,
      "page": 3,
      "totalItems": 29
    },
    "auditData": {
      "processTime": 0.175,
      "time": "2025-02-27T00:34:14.510Z",
      "serverId": "blank",
      "environment": "blank"
    },
    "activities": [
      {
        "code": "E-U10-WONDEROUT",
        "type": "TICKET",
        "countryCode": "US",
        "source": "ATLAS",
        "name": "WonderWorks Outta Control Dinner Show",
        "currency": "EUR",
        "modalities": [
          {
            "code": "323865837#OUTDINNER",
            "name": "Outta Control Dinner Show",
            "rateCode": "STANDARD",
            "freeCancellation": false,
            "duration": {
              "value": 1.0,
              "metric": "DAYS"
            },
            "amountsFrom": [
              {
                "paxType": "ADULT",
                "ageFrom": 13,
                "ageTo": 999,
                "amount": 33.38,
                "boxOfficeAmount": 38.39,
                "mandatoryApplyAmount": false
              },
              {
                "paxType": "CHILD",
                "ageFrom": 0,
                "ageTo": 3,
                "amount": 0.00,
                "boxOfficeAmount": 0.00,
                "mandatoryApplyAmount": false
              },
              {
                "paxType": "CHILD",
                "ageFrom": 4,
                "ageTo": 12,
                "amount": 23.72,
                "boxOfficeAmount": 29.06,
                "mandatoryApplyAmount": false
              }
            ],
            "cancellationPolicies": [
              {
                "dateFrom": "2025-02-26T23:59:00.000Z",
                "amount": 33.3800
              }
            ],
            "uniqueIdentifier": "323865837"
          },
          {
            "code": "1692079346#VIPCOMBO",
            "name": "VIP Combo Ticket",
            "rateCode": "STANDARD",
            "freeCancellation": false,
            "duration": {
              "value": 1.0,
              "metric": "DAYS"
            },
            "amountsFrom": [
              {
                "paxType": "ADULT",
                "ageFrom": 13,
                "ageTo": 999,
                "amount": 58.66,
                "boxOfficeAmount": 67.46,
                "mandatoryApplyAmount": false
              },
              {
                "paxType": "CHILD",
                "ageFrom": 0,
                "ageTo": 3,
                "amount": 0.00,
                "boxOfficeAmount": 0.00,
                "mandatoryApplyAmount": false
              },
              {
                "paxType": "CHILD",
                "ageFrom": 4,
                "ageTo": 12,
                "amount": 43.32,
                "boxOfficeAmount": 49.82,
                "mandatoryApplyAmount": false
              }
            ],
            "cancellationPolicies": [
              {
                "dateFrom": "2025-02-26T23:59:00.000Z",
                "amount": 58.6600
              }
            ],
            "uniqueIdentifier": "1692079346"
          }
        ],
        "content": {
          "name": "WonderWorks Outta Control Dinner Show",
          "detailedInfo": [],
          "featureGroups": [
            {
              "groupCode": "DRINKS",
              "excluded": [
                {
                  "featureType": "DRINKSNOT",
                  "description": "Wine"
                }
              ]
            },
            {
              "groupCode": "TICKET",
              "included": [
                {
                  "featureType": "ADMISSIONSINCL",
                  "description": "Tickets"
                }
              ]
            }
          ],
          "importantInfo": [
            "Height restrictions apply for some attractions. "
          ],
          "location": {
            "endPoints": [
              {
                "type": "Same",
                "description": "Same as Starting Point"
              }
            ],
            "startingPoints": [
              {
                "type": "Meeting Point",
                "meetingPoint": {
                  "type": "ADDRESS",
                  "geolocation": {
                    "latitude": 28.433638,
                    "longitude": -81.471648
                  },
                  "address": "9067 International Drive",
                  "country": {
                    "code": "US",
                    "name": "United States",
                    "destinations": [
                      {
                        "code": "MCO",
                        "name": "Orlando Area - Florida - FL"
                      }
                    ]
                  },
                  "city": "Orlando",
                  "zip": "32819",
                  "description": "9067 International Drive"
                }
              }
            ]
          },
          "media": {
            "images": [
              {
                "visualizationOrder": 1,
                "mimeType": "image/jpeg",
                "language": "ENG",
                "urls": [
                  {
                    "dpi": 72,
                    "height": 75,
                    "width": 100,
                    "resource": "https://media.activitiesbank.com/44723/ENG/S/DSC_3005.jpg",
                    "sizeType": "SMALL"
                  },
                  {
                    "dpi": 72,
                    "height": 768,
                    "width": 1024,
                    "resource": "https://media.activitiesbank.com/44723/ENG/XL/DSC_3005.jpg",
                    "sizeType": "XLARGE"
                  },
                  {
                    "dpi": 72,
                    "height": 480,
                    "width": 640,
                    "resource": "https://media.activitiesbank.com/44723/ENG/B/DSC_3005.jpg",
                    "sizeType": "LARGE2"
                  },
                  {
                    "dpi": 72,
                    "height": 768,
                    "width": 1024,
                    "resource": "https://media.activitiesbank.com/44723/ENG/LPP/DSC_3005.jpg",
                    "sizeType": "RAW"
                  },
                  {
                    "dpi": 72,
                    "height": 200,
                    "width": 267,
                    "resource": "https://media.activitiesbank.com/44723/ENG/L/DSC_3005.jpg",
                    "sizeType": "LARGE"
                  },
                  {
                    "dpi": 72,
                    "height": 130,
                    "width": 173,
                    "resource": "https://media.activitiesbank.com/44723/ENG/M/DSC_3005.jpg",
                    "sizeType": "MEDIUM"
                  }
                ]
              },
              {
                "visualizationOrder": 2,
                "mimeType": "image/jpeg",
                "language": "ENG",
                "urls": [
                  {
                    "dpi": 72,
                    "height": 75,
                    "width": 100,
                    "resource": "https://media.activitiesbank.com/44723/ENG/S/DSC_3204.jpg",
                    "sizeType": "SMALL"
                  },
                  {
                    "dpi": 72,
                    "height": 768,
                    "width": 1024,
                    "resource": "https://media.activitiesbank.com/44723/ENG/XL/DSC_3204.jpg",
                    "sizeType": "XLARGE"
                  },
                  {
                    "dpi": 72,
                    "height": 480,
                    "width": 640,
                    "resource": "https://media.activitiesbank.com/44723/ENG/B/DSC_3204.jpg",
                    "sizeType": "LARGE2"
                  },
                  {
                    "dpi": 72,
                    "height": 768,
                    "width": 1024,
                    "resource": "https://media.activitiesbank.com/44723/ENG/LPP/DSC_3204.jpg",
                    "sizeType": "RAW"
                  },
                  {
                    "dpi": 72,
                    "height": 200,
                    "width": 267,
                    "resource": "https://media.activitiesbank.com/44723/ENG/L/DSC_3204.jpg",
                    "sizeType": "LARGE"
                  },
                  {
                    "dpi": 72,
                    "height": 130,
                    "width": 173,
                    "resource": "https://media.activitiesbank.com/44723/ENG/M/DSC_3204.jpg",
                    "sizeType": "MEDIUM"
                  }
                ]
              },
              {
                "visualizationOrder": 3,
                "mimeType": "image/jpeg",
                "language": "ENG",
                "urls": [
                  {
                    "dpi": 72,
                    "height": 75,
                    "width": 100,
                    "resource": "https://media.activitiesbank.com/44723/ENG/S/DSC_3381_4.jpg",
                    "sizeType": "SMALL"
                  },
                  {
                    "dpi": 72,
                    "height": 768,
                    "width": 1024,
                    "resource": "https://media.activitiesbank.com/44723/ENG/XL/DSC_3381_4.jpg",
                    "sizeType": "XLARGE"
                  },
                  {
                    "dpi": 72,
                    "height": 480,
                    "width": 640,
                    "resource": "https://media.activitiesbank.com/44723/ENG/B/DSC_3381_4.jpg",
                    "sizeType": "LARGE2"
                  },
                  {
                    "dpi": 72,
                    "height": 768,
                    "width": 1024,
                    "resource": "https://media.activitiesbank.com/44723/ENG/LPP/DSC_3381_4.jpg",
                    "sizeType": "RAW"
                  },
                  {
                    "dpi": 72,
                    "height": 200,
                    "width": 267,
                    "resource": "https://media.activitiesbank.com/44723/ENG/L/DSC_3381_4.jpg",
                    "sizeType": "LARGE"
                  },
                  {
                    "dpi": 72,
                    "height": 130,
                    "width": 173,
                    "resource": "https://media.activitiesbank.com/44723/ENG/M/DSC_3381_4.jpg",
                    "sizeType": "MEDIUM"
                  }
                ]
              },
              {
                "visualizationOrder": 4,
                "mimeType": "image/jpeg",
                "language": "ENG",
                "urls": [
                  {
                    "dpi": 72,
                    "height": 75,
                    "width": 100,
                    "resource": "https://media.activitiesbank.com/44723/ENG/S/DSC_3562.jpg",
                    "sizeType": "SMALL"
                  },
                  {
                    "dpi": 72,
                    "height": 768,
                    "width": 1024,
                    "resource": "https://media.activitiesbank.com/44723/ENG/XL/DSC_3562.jpg",
                    "sizeType": "XLARGE"
                  },
                  {
                    "dpi": 72,
                    "height": 480,
                    "width": 640,
                    "resource": "https://media.activitiesbank.com/44723/ENG/B/DSC_3562.jpg",
                    "sizeType": "LARGE2"
                  },
                  {
                    "dpi": 72,
                    "height": 768,
                    "width": 1024,
                    "resource": "https://media.activitiesbank.com/44723/ENG/LPP/DSC_3562.jpg",
                    "sizeType": "RAW"
                  },
                  {
                    "dpi": 72,
                    "height": 200,
                    "width": 267,
                    "resource": "https://media.activitiesbank.com/44723/ENG/L/DSC_3562.jpg",
                    "sizeType": "LARGE"
                  },
                  {
                    "dpi": 72,
                    "height": 130,
                    "width": 173,
                    "resource": "https://media.activitiesbank.com/44723/ENG/M/DSC_3562.jpg",
                    "sizeType": "MEDIUM"
                  }
                ]
              },
              {
                "visualizationOrder": 5,
                "mimeType": "image/jpeg",
                "language": "ENG",
                "urls": [
                  {
                    "dpi": 72,
                    "height": 75,
                    "width": 100,
                    "resource": "https://media.activitiesbank.com/44723/ENG/S/DSC_3695.jpg",
                    "sizeType": "SMALL"
                  },
                  {
                    "dpi": 72,
                    "height": 768,
                    "width": 1024,
                    "resource": "https://media.activitiesbank.com/44723/ENG/XL/DSC_3695.jpg",
                    "sizeType": "XLARGE"
                  },
                  {
                    "dpi": 72,
                    "height": 480,
                    "width": 640,
                    "resource": "https://media.activitiesbank.com/44723/ENG/B/DSC_3695.jpg",
                    "sizeType": "LARGE2"
                  },
                  {
                    "dpi": 72,
                    "height": 768,
                    "width": 1024,
                    "resource": "https://media.activitiesbank.com/44723/ENG/LPP/DSC_3695.jpg",
                    "sizeType": "RAW"
                  },
                  {
                    "dpi": 72,
                    "height": 200,
                    "width": 267,
                    "resource": "https://media.activitiesbank.com/44723/ENG/L/DSC_3695.jpg",
                    "sizeType": "LARGE"
                  },
                  {
                    "dpi": 72,
                    "height": 130,
                    "width": 173,
                    "resource": "https://media.activitiesbank.com/44723/ENG/M/DSC_3695.jpg",
                    "sizeType": "MEDIUM"
                  }
                ]
              }
            ]
          },
          "redeemInfo": {
            "type": "PRINTED",
            "directEntrance": false,
            "comments": [
              {
                "description": "Printed Voucher. Print and bring the voucher to enjoy the activity. "
              }
            ]
          },
          "routes": [],
          "scheduling": {},
          "segmentationGroups": [
            {
              "code": 16,
              "name": "Services",
              "segments": [
                {
                  "code": 956,
                  "name": "Safe2Stay"
                }
              ]
            },
            {
              "code": 1,
              "name": "Categories",
              "segments": [
                {
                  "code": 3,
                  "name": "Tickets & Attraction Passes"
                }
              ]
            }
          ],
          "activityFactsheetType": "ATTRACCTIONS",
          "activityCode": "E-U10-WONDEROUT",
          "modalityCode": "OUTDINNER",
          "modalityName": "Outta Control Dinner Show",
          "contentId": "44723",
          "description": "Take your seat for one of the best-kept secrets in Orlando.  This show is seriously entertaining and funny – magic with a twist! ...",
          "lastUpdate": "2024-08-28",
          "summary": "<strong>Don’t miss the best show that Orlando has to offer...</strong>",
          "advancedTips": [],
          "countries": [
            {
              "code": "US",
              "name": "United States",
              "destinations": [
                {
                  "code": "MCO",
                  "name": "Orlando Area - Florida - FL"
                }
              ]
            }
          ],
          "highligths": [
            "A side-splitting evening for the whole family",
            "Quench your thirst with unlimited drinks",
            "Enjoy a belly-busting amount of mouth-watering hand-tossed pizza"
          ],
          "language": "en"
        },
        "order": 21,
        "amountsFrom": [
          {
            "paxType": "ADULT",
            "ageFrom": 13,
            "ageTo": 999,
            "amount": 33.38,
            "boxOfficeAmount": 38.39,
            "mandatoryApplyAmount": false
          },
          {
            "paxType": "CHILD",
            "ageFrom": 0,
            "ageTo": 3,
            "amount": 0.00,
            "boxOfficeAmount": 0.00,
            "mandatoryApplyAmount": false
          },
          {
            "paxType": "CHILD",
            "ageFrom": 4,
            "ageTo": 12,
            "amount": 23.72,
            "boxOfficeAmount": 29.06,
            "mandatoryApplyAmount": false
          }
        ],
        "currencyName": "Euro",
        "country": {
          "code": "US",
          "name": "United States",
          "destinations": [
            {
              "code": "MCO",
              "name": "Orlando Area - Florida - FL"
            }
          ]
        }
      }
    ],
    "summaryLog": "activities=9"
  };

  // 2) Vamos renderizar no DOM:
  //    Assim que a página carregar, injetamos o HTML
  window.addEventListener("DOMContentLoaded", () => {
    const mainHeaderDiv = document.getElementById("mainHeader");
    const activitiesListDiv = document.getElementById("activitiesList");
    
    // Preenche cabeçalho com dados de pagination, operationId, etc.
    mainHeaderDiv.innerHTML = `
      <h1>Operation ID: ${data.operationId}</h1>
      <div class="meta-info">
        <div class="meta-box">Page: ${data.pagination.page}</div>
        <div class="meta-box">Items Per Page: ${data.pagination.itemsPerPage}</div>
        <div class="meta-box">Total Items: ${data.pagination.totalItems}</div>
      </div>
      <p><strong>Summary Log:</strong> ${data.summaryLog}</p>
    `;

    // Renderizar cada atividade como um card
    data.activities.forEach((activity) => {
      // Monta parte do HTML
      let cardHtml = `
        <div class="activity-card">
          <div class="activity-header">
            <div>
              <h2>${activity.name}</h2>
              <div class="activity-code">Code: ${activity.code}</div>
              <div class="activity-type">Type: ${activity.type}</div>
            </div>
            <div style="text-align:right;">
              <p><strong>Currency:</strong> ${activity.currency}</p>
              <p><strong>Country:</strong> ${activity.country?.name || ""}</p>
            </div>
          </div>
          <div class="activity-body">
            <div class="title-label">Description:</div>
            <div>${activity.content?.description || ""}</div>

            <div class="amounts-row">
              <span class="title-label">From amounts:</span>
              <ul>
                ${activity.amountsFrom?.map(a => `
                  <li>
                    PaxType: ${a.paxType}, 
                    Amount: ${a.amount}, 
                    BoxOffice: ${a.boxOfficeAmount}
                  </li>
                `).join("")}
              </ul>
            </div>

            <div class="image-gallery">
      `;

      // Se houver imagens, vamos mostrar
      const images = activity.content?.media?.images || [];
      images.forEach((imgObj) => {
        // Pegaremos uma das URLs - por ex. a sizeType: "SMALL"
        // ou a primeira do array
        if (imgObj.urls?.length) {
          const url = imgObj.urls[0].resource;
          cardHtml += `<img src="${url}" alt="image" />`;
        }
      });

      cardHtml += `</div> <!-- fim da .image-gallery -->`;

      cardHtml += `
          </div> <!-- fim da .activity-body -->
        </div> <!-- fim da .activity-card -->
      `;

      // Insere no DOM
      activitiesListDiv.innerHTML += cardHtml;
    });
  });
</script>

</body>
</html>
